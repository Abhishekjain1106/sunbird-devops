---
es_curl_host: 10.12.3.7

env: spike
swarm_master: false
backup_storage_name: "sunbirdbackupsspike"

mail_server_host: smtp.unknown.net
mail_server_port: 587
mail_server_username: unknown
mail_server_password: unknown

monitor_alerts_mail_from_email: alerts@open-sunbird.org
monitor_alerts_mail_server_host: "{{ mail_server_host }}"
monitor_alerts_mail_server_port: "{{ mail_server_port }}"
monitor_alerts_mail_server_username: "{{ mail_server_username }}"
monitor_alerts_mail_server_password: "{{ mail_server_password }}"

kong_postgres_host: "{{ groups['postgresql-master'][0]}}"
kong_postgres_port: 5432
kong_postgres_user: api_manager_spike
kong_postgres_database: api_manager_spike
kong_postgres_password: "{{ vault_kong_postgres_password }}"

keycloak_postgres_host: "{{ groups['postgresql-master'][0]}}"
keycloak_postgres_database: keycloak
keycloak_postgres_user: keycloak
keycloak_postgres_password: "{{vault_keycloak_postgres_password}}"

application_postgres_host: "{{ groups['postgresql-master'][0]}}"
application_postgres_database: quartz
application_postgres_user: quartz
application_postgres_password: "{{vault_application_postgres_password}}"

postgresql_backup_azure_storage_account_name: "{{ backup_storage_name }}"
postgresql_backup_azure_storage_access_key: "{{ backup_storage_key }}"

postgresql_restore_azure_storage_account_name: "{{ backup_storage_name }}"
postgresql_restore_azure_storage_access_key: "{{ backup_storage_key }}"

# defaults file for ansible-cassandra
cassandra_listen_address: 10.12.4.4
cassandra_listen_interface: ''
cassandra_log_dir: '/var/log/cassandra'
cassandra_root_dir: '/etc/cassandra'
cassandra_seeds: 10.12.4.4
cassandra_version: '3.9'
cassandra_port: 9042
cassandra_rpc_address: 0.0.0.0
cassandra_broadcast_rpc_address: 10.12.4.4
cassandra_broadcast_address: 10.12.4.4
cassandra_backup_azure_container_name: cassandra-backup
cassandra_backup_azure_storage_account_name: "{{ backup_storage_name }}"
cassandra_backup_azure_storage_access_key: "{{backup_storage_key}}"
cassandra_backup_dir: /data/cassandra/backup
cassandra_restore_dir: /home/deployer/

cassandra_repo: 'deb http://www.apache.org/dist/cassandra/debian 39x main'
cassandra_repo_key: 'https://www.apache.org/dist/cassandra/KEYS'

mongo_backup_azure_container_name: mongo-backup
mongo_backup_azure_storage_account_name: "{{ backup_storage_name }}"
mongo_backup_azure_storage_access_key: "{{backup_storage_key}}"
mongo_backup_dir: /home/deployer/mongo-backups
mongo_config_ip: 10.10.2.4
mongo_query_ip: 10.10.2.5
mongo_shard_ip1: 10.10.2.6
mongo_shard=ip2: 10.10.2.7

swarm_address_space: 10.2.0.0/16
keycloak_address_space: 10.113.2.0/24
postgres_address_space: 10.12.0.0/24

sunbird_content_player_url: https://spike.open-sunbird.org/api/
sunbird_learner_player_url: https://spike.open-sunbird.org/api/
sunbird_mongo_ip: 10.12.2.5
sunbird_cassandra_host: 10.12.4.4
sunbird_es_host: 10.12.3.7,10.12.3.8,10.12.3.6
sunbird_sso_url: https://spike.open-sunbird.org/auth/
sunbird_sso_realm: sunbird
sunbird_sso_client_id: admin-cli
sunbird_mongo_port: 27017
sunbird_ekstep_api_base_url: https://qa.ekstep.in/api
sunbird_ekstep_proxy_base_url: https://qa.ekstep.in
sunbird_mongodb_port: 27017
sunbird_portal_realm: sunbird
sunbird_portal_auth_server_url: https://spike.open-sunbird.org/auth
sunbird_portal_auth_server_client: portal
sunbird_trampoline_client_id: trampoline
sunbird_appid: sunbird_portal
sunbird_env: qa
sunbird_default_tenant: sunbird
sunbird_echo_api_url: https://spike.open-sunbird.org/api/echo/
sunbird_pg_host: 10.12.0.4
sunbird_pg_port: 5432
sunbird_pg_db: quartz
sunbird_pg_user: quartz
sunbird_pg_password: "{{vault_application_postgres_password}}"
sunbird_installation: sunbird
sunbird_mail_server_host: "{{ mail_server_host }}"
sunbird_mail_server_port: "{{ mail_server_port }}"
sunbird_mail_server_username: "{{ mail_server_username }}"
sunbird_mail_server_password: "{{ mail_server_password }}"
sunbird_mail_server_from_email:
sunbird_account_name: sunbirddev
sunbird_account_key: zl8q5yA4fxG5PAha2rc6rRWQ8vQlKMGKb79YlQN1br7EOOD8jmVhBOlTP3J7KqKTj3J2TxkJArQR8IrXV551Fg==
sunbird_sunbird_quartz_mode: cluster
sunbird_encryption_mode: local
sunbird_cassandra_urls: 10.12.4.4:9042
sunbird_session_store_type: cassandra

logger_es_host: "{{ groups['spike-log-es'][0] }}"
logger_es_port: 9200

kibana_oauth_redirect_url: https://spike.open-sunbird.org/oauth2/callback
slack_channel: sunbird-spike-alert

keycloak_url: http://broker:8080
keycloak: True

api__host: spike.open-sunbird.org

proxy_server_name: spike.open-sunbird.org
proxy_replicas: 2
proxy_reservation_memory: 32M
proxy_limit_memory: 128M
kong_replicas: 3
kong_reservation_memory: 64M
kong_limit_memory: 256M
echo_service_replicas: 2
echo_service_reservation_memory: 8M
echo_service_limit_memory: 16M
adminutil_replicas: 2
adminutil_reservation_memory: 512M
adminutil_limit_memory: 1024M

actor_replicas: 2
actor_reservation_memory: 768M
actor_limit_memory: 1024M

learner_replicas: 2
learner_reservation_memory: 256M
learner_limit_memory: 512M

player_replicas: 2
player_reservation_memory: 64M
player_limit_memory: 256M

content_replicas: 2
content_reservation_memory: 64M
content_limit_memory: 256M

keycloak1_replicas: 1
keycloak1_reservation_memory: 768M
keycloak1_limit_memory: 1024M

keycloak2_replicas: 1
keycloak2_reservation_memory: 768M
keycloak2_limit_memory: 1024M

#monitor_es_host: "{{ groups['es'][0] }}"
monitor_es_host: ""
alertmanager_host: "{{ groups['swarm-agent-for-alertmanager'][0] }}"
prometheus_host: "{{ groups['swarm-agent-for-prometheus'][0] }}"

proxy_prometheus: true

kibana_oauth_authenticated_email_domains:
  - ekstep.org
  - sahajsoft.com
  - ilimi.in
  - tarento.com

kibana_oauth_authenticated_email_ids:
  - shailesh.kochhar@gmail.com
  - vijetha.nayak@riflexions.com

ansible_vault_password: "{{ vault_ansible_vault_password }}"
docker_hub_password: "{{ vault_docker_hub_password }}"
jenkins_slave_jenkins_username: "{{ vault_jenkins_slave_jenkins_username }}"
jenkins_slave_jenkins_password: "{{ vault_jenkins_slave_jenkins_password }}"
ops_private_key: "{{ vault_ops_private_key }}"
deployer_ssh_key: "{{ vault_deployer_ssh_key }}"
proxy_prometheus_admin_creds: "{{ vault_proxy_prometheus_admin_creds }}"

