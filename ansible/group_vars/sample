env: sample

proxy_server_name:

# DB CONFIGURATION

## set passwords
application_postgres_password:    #Set the variable for Postgres db installation ,db init scripts      
keycloak_postgres_password:       #Set the variable for Postgres db installation ,keycloak setup
kong_postgres_password:           #Set the variable for Postgres db installation

## application server address space (e.g. 10.3.0.0/24)
## also the agentpublicSubnet if using Azure scripts provided
swarm_address_space:                                            #Set the variable for Postgres db installation 

## configure cassandra  
cassandra_listen_address:                        #Set the variable for cassadra db installation , private ip of vm
cassandra_seeds:                                 #Set the variable for cassadra db installation , private ip of vm
cassandra_broadcast_rpc_address:                 #Set the variable for cassadra db installation , private ip of vm
cassandra_broadcast_address:                     #Set the variable for cassadra db installation , private ip of vm
cassandra_listen_interface: ''
cassandra_log_dir: '/var/log/cassandra'
cassandra_root_dir: '/etc/cassandra'
cassandra_version: '3.9'
cassandra_port: 9042
cassandra_rpc_address: 0.0.0.0
cassandra_restore_dir: /home/deployer/

# APPLICATION CONFIGURATION

## DB address
application_postgres_host:                     #Set the variable for Postgres db installation
keycloak_postgres_host:                        #Set the variable for Postgres db installation
kong_postgres_host:                            #Set the variable for Postgres db installation

keystore_password:                             #Set the variable for cassadra db installation
truststore_password:                           #Set the variable for cassadra db installation 
keycloak_url: http://keycloak1

## application server configurations
sunbird_content_player_url: https://sample.open-sunbird.org/api/
sunbird_learner_player_url: https://sample.open-sunbird.org/api/
sunbird_mongo_ip:                 #Set variable for player application deployment, private ip of mongo vm   
sunbird_cassandra_host:           #Set variable for actor application deployment,private ip of casandra vm         
sunbird_es_host:                  #Set variable for actor application deployment,private ip of es vm
sunbird_sso_url: https://sample.open-sunbird.org/auth/
sunbird_sso_realm: sunbird
sunbird_sso_client_id: admin-cli
sunbird_ekstep_content_search_base_url: https://qa.ekstep.in/api
sunbird_mongo_port: 27017
sunbird_ekstep_api_base_url: https://qa.ekstep.in/api
sunbird_ekstep_proxy_base_url: https://qa.ekstep.in
sunbird_mongodb_port: 27017
sunbird_portal_realm: sunbird
sunbird_portal_auth_server_url: https://sample.open-sunbird.org/auth
sunbird_portal_auth_server_client: portal
sunbird_trampoline_client_id: trampoline
sunbird_appid: sunbird_portal
sunbird_env: qa
sunbird_default_tenant: sunbird
sunbird_echo_api_url: https://sample.open-sunbird.org/api/echo/
sunbird_pg_host:                 #Set variable for actor application deployment,private ip of postgres vm
sunbird_pg_port: 5432
sunbird_pg_db: quartz
sunbird_pg_user: quartz
sunbird_pg_password:
sunbird_installation: sunbird
sunbird_mail_server_host:
sunbird_mail_server_port:
sunbird_mail_server_username:
sunbird_mail_server_password:
sunbird_mail_server_from_email: support@open-sunbird.org
sunbird_account_name: sunbirddev
sunbird_account_key:            #Set variable for  application deployment     
sunbird_sunbird_quartz_mode: cluster
sunbird_sunbird_salt: SunBird
sunbird_cassandra_urls:            
sunbird_session_store_type: cassandra

## Keycloak (auth server) login details
sunbird_sso_username:        #Set variable for actor application deployment
sunbird_sso_password:        #Set variable for actor application deployment

## Content Repo configuration
sunbird_ekstep_authorization: #Set variable for actor application deployment
sunbird_trampoline_secret:    #Set variable for player application deployment
sunbird_api_auth_token:       #Set variable for player application deployment
sunbird_ekstep_api_key:       #Set variable for comtent application deployment

# ADVANCED CONFIGURATIONS

project: sunbird
application_postgres_database: quartz
application_postgres_user: quartz
keycloak_postgres_database: keycloak
keycloak_postgres_user: keycloak 

## elasticsearch configurations

es_heap_size: 1500m
es_etc_cluster_name: sunbird-sample
es_etc_discovery_zen_minimum_master_nodes: 1

es_version: 5.4.3
es_java_install: false
es_api_host: "{{ hostvars[inventory_hostname]['ansible_default_ipv4']['address'] }}"
es_config: {
    node.name: "{{ es_instance_name }}",
    cluster.name: "{{ es_etc_cluster_name }}",
    network.host: "{{ es_api_host }}",
    discovery.zen.ping.unicast.hosts: "{{ groups['es'] }}",
    node.data: "{{ es_etc_node_data }}",
    node.master: "{{ es_etc_node_master }}",
    discovery.zen.minimum_master_nodes: "{{ es_etc_discovery_zen_minimum_master_nodes }}",
    bootstrap.memory_lock: true
}
es_plugins_reinstall: true
snapshot_base_path: application

## Cassandra download URI
cassandra_repo: 'deb http://www.apache.org/dist/cassandra/debian 39x main'
cassandra_repo_key: 'https://www.apache.org/dist/cassandra/KEYS'

#API Manager
kong_postgres_port: 5432
kong_postgres_user: api_manager_sample
kong_postgres_database: api_manager_sample

es_curl_host:

## Logging details
syslog:
    host:
    port: 51415

## PostgreSQL config
postgresql_users:
  - name: "{{kong_postgres_user}}"
    password: "{{kong_postgres_password}}"
    db: "{{kong_postgres_database}}"
    priv: "ALL"
  - name: "{{keycloak_postgres_user}}"
    password: "{{keycloak_postgres_password}}"
    db: "{{keycloak_postgres_database}}"
    priv: "ALL"
  - name: "{{application_postgres_user}}"
    password: "{{application_postgres_password}}"
    db: "{{application_postgres_database}}"
    priv: "ALL"

swarm_secrets:
  - name: postgresql_keycloak_pass
    value:
  - name: prom_admin_creds
    value:
  - name: site.key
    value:
  - name: site.crt
    value:
